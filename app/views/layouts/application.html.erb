<!DOCTYPE html>
<html>
  <head>
    <title>Getsabook</title>
    <%= csrf_meta_tags %>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>

    <div id="layout">
    <!-- Menu toggle -->
    <a href="/" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>

    <div id="menu">

        <div class="pure-menu  "><center>
            <a class="pure-menu-heading" href="/">Devolva-me</a>

            <ul class="pure-menu-list">

                <li class="pure-menu-item"><a href="/notreturned" class="pure-menu-link">Atrasildos</a></li>
                <li class="pure-menu-item"><a href="/students" class="pure-menu-link">Alunos</a></li>
                <li class="pure-menu-item"><a href="/books" class="pure-menu-link">Livros</a></li>
                <li>
                   <%= image_tag("books.png", size: "150") %>
                </li>
            </ul></center>
        </div>
    </div>
    <div id='main'>
      <%= yield %>
    </div>
  </div>
    <script>
    (function (window, document) {

        var layout   = document.getElementById('layout'),
            menu     = document.getElementById('menu'),
            menuLink = document.getElementById('menuLink'),
            content  = document.getElementById('main');

        function toggleClass(element, className) {
            var classes = element.className.split(/\s+/),
                length = classes.length,
                i = 0;

            for(; i < length; i++) {
              if (classes[i] === className) {
                classes.splice(i, 1);
                break;
              }
            }
            // The className is not found
            if (length === classes.length) {
                classes.push(className);
            }

            element.className = classes.join(' ');
        }

        function toggleAll(e) {
            var active = 'active';

            e.preventDefault();
            toggleClass(layout, active);
            toggleClass(menu, active);
            toggleClass(menuLink, active);
        }

        menuLink.onclick = function (e) {
            toggleAll(e);
        };

        content.onclick = function(e) {
            if (menu.className.indexOf('active') !== -1) {
                toggleAll(e);
            }
        };

    }(this, this.document));

    </script>
  </body>
</html>
